/*! define.js 2014-04-02 */
!function(Global,undefined){function XHR(){var a=null;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){a=null}}}return a}function getResponse(type,xhr){var res=null;return"json"==type?res=xhr.responseText&&$.is(xhr.responseText,"string")?eval("("+xhr.responseText+")"):{}:"text"==type?res=xhr.responseText:"xml"==type&&(res=xhr.responseXML),res}function forEach(a,b){if(a.constructor==Array)for(var c=[],d=0,e=a.length;e>d;d++)c.push(b(d,a[d]));else{c={};for(var f in a)c[f]=b(f,a[f])}return c}function parseParam(a,b){return forEach(a,function(a,c){return b[a]||c})}function emptyFunc(){}var CONFIG={method:"GET",data:{},charset:"UTF-8",type:"json",ansyc:!0,header:{},success:emptyFunc,fail:emptyFunc,requesting:emptyFunc,timeout:6e4};Global.Http=function(){this.xhr=XHR()},Global.Http.prototype.request=function(a,b){if(!a&&!$.is(a,"string"))throw new Error("Need A Request URL");var c=this.xhr||XHR();if(!c)return!1;var d=parseParam(CONFIG,b);d.method=d.method.toUpperCase(),d.header["Content-Type"]||(d.header["Content-Type"]="application/x-www-form-urlencoded"),d.header["X-Requested-With"]||(d.header["X-Requested-With"]="XMLHttpRequest");var e=!("GET"!=d.method),f=[];forEach(d.data,function(a,b){f.push(a+"="+b)});var g=f.join("&"),h=function(){if(4==c.readyState){clearTimeout(i);var a=getResponse(d.type,c);c.status>=200&&c.status<400?d.success(a,c):d.fail(null,c)}else d.requesting(c.readyState)};d.ansyc&&(c.onreadystatechange=h),c.open(d.method,a+(e&&g?"?"+g:""),d.ansyc),forEach(d.header,function(a,b){return c.setRequestHeader(a,b),b});var i=setTimeout(function(){c.abort(),d.fail(null,c)},d.timeout);e?c.send():c.send(g)},Global.Http.prototype.abort=function(){this.xhr.abort()},Global.Http.request=function(a,b){var c=new Http;return c.request(a,b),c}}(this),function(Global,undefined){function define(a){var b="function"==typeof a;if(b){var c=a.toString().replace(REGEXP.funcBody,"$1")||"";a=(new Date).getTime()}var d=COMMON.moduleIdPrefix+a,e=Cached.modules[d]||(Cached.modules[d]=new Module(a,d));if(e.parents.push(this),Cached.completedModules[d])return e.notice(),"complete";if(Cached.loadingModules[d])return"loading";if(Cached.loadingModules[d]=e,b)return e.defined(c),"loading";var f=new Http;return f.request(define.config.base+e.mod,{method:"GET",type:"text",success:function(a){e.defined(a)}}),"loading"}function Module(a,b){this.mod=a,this.parents=[],this.moduleCode="",this.id=b,this.dependencies=[],this.dependent=0,this.uncomplete=0,this.lock=!1,this.queue=[],this.dependencyNameModule=[]}function RemoveComments(a){return a.replace(REGEXP.jsComment,"")}function CheckoutModules(a){var b={};b.depModules=[],b.dependencyNameModule=[];return b.mod=a.replace(REGEXP.module,function(a,c,d,e){return b.depModules.push(e),b.dependencyNameModule.push({name:d,module:e}),""}),b}var REGEXP={jsComment:/((\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(\/\/.*))/gm,module:/([\r\n]?\s*var\s+(.+)\s*=\s*)?require\(['"]\s*([^\s]+)\s*['"]\)/gm,funcBody:/function\s*\([^\r\n]*\)\s*\{\s*((.|\s)*)\}/gm},Code_Settup={prefix:"var __Saber_defined__temp__ = (function(){var exports = {};",postfix:";return exports})()"},COMMON={moduleIdPrefix:"__Saber__defined__"},Cached={completedModules:{},loadingModules:{},modules:{},moduleInterfaces:{}};define.config={base:"/"},Module.prototype.defined=function(a){var b=a.toString();b=RemoveComments(b),this.moduleCode=b;var c=CheckoutModules(b);if(this.moduleCode=c.mod,this.dependencies=c.depModules,this.dependencyNameModule=c.dependencyNameModule,this.dependent=this.uncomplete=c.depModules.length,c=null,!this.dependent)return this.eval();for(var d=this.dependent;d;)define.call(this,this.dependencies[--d])},Module.prototype.complete=function(a){if(this.lock)return this.queue.push(a),"complete_waiting";if(this.lock=!0,--this.uncomplete){this.lock=!1;var b=this.queue.shift();return this.complete(b),"dealing"}return this.eval()},Module.prototype.eval=function(){for(var interfaceFixed="",k=0,len=this.dependent;len>k;k++){var curr=this.dependencyNameModule[k];curr.name&&(interfaceFixed+="var "+curr.name+'=Cached.moduleInterfaces["'+COMMON.moduleIdPrefix+curr.module+'"];')}return eval(Code_Settup.prefix+interfaceFixed+this.moduleCode+Code_Settup.postfix),Cached.moduleInterfaces[this.id]=__Saber_defined__temp__,__Saber_defined__temp__=null,Cached.completedModules[this.id]=!0,Cached.loadingModules[this.id]=undefined,this.notice()},Module.prototype.notice=function(){for(var a=this.parents,b=this,c=0,d=a.length;d>c;c++){var e=a[c];setTimeout(function(){return e===Global?"completed":(e.complete(b),"dealing")},0)}return!0},Global.define=define,Global.require=function(){}}(this);